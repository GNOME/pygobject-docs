.. rubric:: {{ namespace }} {{ entity_type }}

{{ class_name }}
===================================================================


.. currentmodule:: gi.repository.{{ namespace }}

.. class:: {{ class_name }}

{% if ancestors %}
   Ancestors: {% for p in ancestors %}{% if not loop.first %}, {% endif %}:class:`~{{p}}`{% endfor %}
{% endif %}
{% if implements %}
   Implements: {% for p in implements %}{% if not loop.first %}, {% endif %}:class:`~{{p}}`{% endfor %}
{% endif %}

   Description
   -----------

   {{ docstring(class_name) | rstify | indent(3) }}

{% set depr, version, doc = deprecated(class_name) %}
{% if depr %}
   .. deprecated:: {{ version }}
   
      {{ doc | rstify | indent(6) }}
{% endif %}

{% set version = since(class_name) %}
{% if version %}
   .. versionadded:: {{ version }}
{% endif %}

{% if constructors %}
   Constructors
   ------------
{% endif %}

{% for cons_name, signature, cons_doc, parameters, return_doc in constructors %}
   .. method:: {{ cons_name }}{{ signature }}
      :classmethod:

      {% for name, doc in parameters %}
      :param {{ name }}: {{ doc | rstify | indent(9) }}
      {% endfor %}
      {% if return_doc %}
      :return: {{ return_doc | rstify | indent(9) }}
      {% endif %}

      {{ cons_doc | rstify | indent(6) }}

{% endfor %}

{% if fields %}
   Fields
   ------
{% endif %}
   
{% for name, doc in fields %}
   .. attribute:: {{ name }}

   {{ doc | rstify | indent(3)}}

{% endfor %}

{% if methods %}
   Methods
   -------
{% endif %}

{% for method_name, signature, method_doc, parameters, return_doc, is_classmethod in methods %}
   .. method:: {{ method_name }}{{ signature }}
{% if is_classmethod %}      :classmethod:{% endif %}

      {% for name, doc in parameters %}
      :param {{ name }}: {{ doc | rstify | indent(9) }}
      {% endfor %}
      {% if return_doc %}
      :return: {{ return_doc | rstify | indent(9) }}
      {% endif %}

      {{ method_doc | rstify | indent(6) }}

{% endfor %}

{% if properties %}
   Properties
   ----------
{% endif %}

{% for name, type, doc in properties %}
   .. attribute:: {{ name }}
      :type: {{ type }}
      :canonical: gi.repository.{{ namespace }}.{{ class_name }}:{{ name }}

      {{ doc | rstify | indent(6) }}

{% endfor %}

{% if signals %}
   Signals
   -------
{% endif %}

{% for signal_name, sig, signal_doc, parameters, return_doc in signals %}
   .. method:: {{ signal_name }}{{ sig }}
      :canonical: gi.repository.{{ namespace }}.{{ class_name }}::{{ signal_name }}
      :noindex:

      {% for name, doc in parameters %}
      :param {{ name }}: {{ doc | rstify | indent(9) }}
      {% endfor %}
      {% if return_doc %}
      :return: {{ return_doc | rstify | indent(9) }}
      {% endif %}

      {{ signal_doc | rstify | indent(6) }}

{% endfor %}

{% if virtual_methods %}
   Virtual Methods
   ---------------
{% endif %}

{% for method_name, signature, method_doc, parameters, return_doc in virtual_methods %}
   .. method:: {{ method_name }}{{ signature }}
   
      {% for name, doc in parameters %}
      :param {{ name }}: {{ doc | rstify | indent(9) }}
      {% endfor %}
      {% if return_doc %}
      :return: {{ return_doc | rstify | indent(9) }}
      {% endif %}

      {{ doc | rstify | indent(6) }}

{% endfor %}
